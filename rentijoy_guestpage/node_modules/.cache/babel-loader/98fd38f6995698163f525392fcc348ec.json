{"ast":null,"code":"var _jsxFileName = \"/home/tringapps/Rentijoy/rentijoy_guestpage/src/components/movieRender/movie cast and details/basic.js\",\n    _s = $RefreshSig$();\n\nimport \"../assests/basic.css\";\nimport React, { useState } from \"react\";\nimport axios from \"axios\";\nimport Navbar from \"../../Navbar\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function MovieBasic(props) {\n  _s();\n\n  const [payment, setPayment] = useState(false); // const [paymentId, setPaymentId] = useState(\"\");\n  // const [orderId, setOrderId] = useState(\"\");\n  // const [signature, setSignature] = useState(\"\");\n\n  let userdetail = localStorage.getItem('user_mail');\n  userdetail = JSON.parse(userdetail);\n  const userid = userdetail.users.userId;\n\n  const buyNow = async (productId, type) => {\n    if (localStorage.getItem('log') !== 'true') alert('Please Login');else {\n      const res = await axios.get(`http://localhost:4000/movie/order/?id=${productId}&type=${type}`);\n\n      if (res.status !== 200) {\n        return;\n      }\n\n      const options = {\n        \"key\": \"rzp_test_11uZlqQcw3DCmb\",\n        \"amount\": res.data.amount,\n        \"currency\": res.data.currency,\n        \"name\": res.data.notes,\n        \"description\": res.data.notes.Movie_name,\n        \"image\": \"\",\n        \"order_id\": res.data.id,\n        \"handler\": async function (response) {\n          //  setPaymentId(response.razorpay_payment_id);\n          //  setOrderId(response.razorpay_order_id);\n          //  setSignature(response.razorpay_signature);\n          setPayment(true);\n          const usermovie = await axios.post('http://localhost:4000/movie/payment', {\n            userId: userid,\n            MovieId: productId,\n            movieRentType: type\n          });\n        },\n        \"prefill\": {\n          \"name\": \"\",\n          \"email\": \"\",\n          \"contact\": \"\"\n        }\n      };\n      var rzp1 = new window.Razorpay(options);\n      rzp1.open();\n      rzp1.on('payment.failed', function (response) {\n        alert(response.error.code);\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 14\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"movie-basic-conatainer\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"movie-basic\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"poster\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            alt: \"movie\",\n            src: props.movie.Poster\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"movie-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"movie-head\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              children: props.movie.MovieName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"year\",\n              children: props.movie.Year\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"duration\",\n              children: [props.movie.Duration, \"utes\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"genre\",\n              children: props.movie.Genre\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"movie-amt\",\n            children: [!payment && !props.userm && /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => buyNow(props.movie.MovieId, \"Rent\"),\n                  children: [\"Rent  \\u20B9\", props.movie.RentAmt]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 66,\n                  columnNumber: 28\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 66,\n                columnNumber: 22\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => buyNow(props.movie.MovieId, \"Buy\"),\n                  children: [\"Buy  \\u20B9\", props.movie.BuyAmt]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 67,\n                  columnNumber: 20\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 67,\n                columnNumber: 14\n              }, this)]\n            }, void 0, true), (payment || props.userm) && /*#__PURE__*/_jsxDEV(\"h1\", {\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-play\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 71,\n                columnNumber: 25\n              }, this), \" Play\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true);\n}\n\n_s(MovieBasic, \"36V4RxRnb7S52lcfAWQ7PvsSIs0=\");\n\n_c = MovieBasic;\n\nvar _c;\n\n$RefreshReg$(_c, \"MovieBasic\");","map":{"version":3,"sources":["/home/tringapps/Rentijoy/rentijoy_guestpage/src/components/movieRender/movie cast and details/basic.js"],"names":["React","useState","axios","Navbar","MovieBasic","props","payment","setPayment","userdetail","localStorage","getItem","JSON","parse","userid","users","userId","buyNow","productId","type","alert","res","get","status","options","data","amount","currency","notes","Movie_name","id","response","usermovie","post","MovieId","movieRentType","rzp1","window","Razorpay","open","on","error","code","movie","Poster","MovieName","Year","Duration","Genre","userm","RentAmt","BuyAmt"],"mappings":"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","sourcesContent":["\nimport \"../assests/basic.css\"\nimport React,{useState} from \"react\";\nimport axios from \"axios\";\nimport Navbar from \"../../Navbar\";\nexport default function MovieBasic(props){\n  const [payment, setPayment] = useState(false);\n  // const [paymentId, setPaymentId] = useState(\"\");\n  // const [orderId, setOrderId] = useState(\"\");\n  // const [signature, setSignature] = useState(\"\");\n  let userdetail = localStorage.getItem('user_mail')\n  userdetail = JSON.parse(userdetail)\n  const userid=userdetail.users.userId;\n  const buyNow = async (productId,type) => {\n    if(localStorage.getItem('log')!=='true')alert('Please Login')\n    else{\n     const res = await axios.get(`http://localhost:4000/movie/order/?id=${productId}&type=${type}`)\n     if(res.status !== 200){\n       return \n     }\n     const options = {\n       \"key\": \"rzp_test_11uZlqQcw3DCmb\",\n       \"amount\": res.data.amount,\n       \"currency\": res.data.currency,\n       \"name\": res.data.notes,\n       \"description\": res.data.notes.Movie_name,\n       \"image\": \"\",\n       \"order_id\": res.data.id,\n       \"handler\": async function (response){\n          //  setPaymentId(response.razorpay_payment_id);\n          //  setOrderId(response.razorpay_order_id);\n          //  setSignature(response.razorpay_signature);\n           setPayment(true);\n           const usermovie= await axios.post('http://localhost:4000/movie/payment',\n           {userId:userid,MovieId:productId,movieRentType:type}\n           )\n       },\n       \"prefill\": {\n           \"name\": \"\",\n           \"email\": \"\",\n           \"contact\": \"\"\n       }\n   };\n   var rzp1 = new window.Razorpay(options);\n   rzp1.open();\n   rzp1.on('payment.failed', function (response){\n           alert(response.error.code);    \n   });\n   }}\n    return(<><Navbar/>\n    <div className=\"movie-basic-conatainer\">\n        <div className=\"movie-basic\">\n        <div className=\"poster\">\n          <img alt=\"movie\" src={props.movie.Poster}></img>\n        </div>\n        <div className=\"movie-info\">\n          <div className=\"movie-head\">\n            <h1>{props.movie.MovieName}</h1>\n            <span className=\"year\">{props.movie.Year}</span>\n            <span className=\"duration\">{props.movie.Duration}utes</span> \n            <div className=\"genre\">{props.movie.Genre}</div>\n          </div>\n            <div className=\"movie-amt\">\n              { !payment  \n                && !props.userm\n                &&(<><span><button onClick={() => buyNow(props.movie.MovieId,\"Rent\")}>Rent  &#8377;{props.movie.RentAmt}</button></span>\n             <span><button onClick={() => buyNow(props.movie.MovieId,\"Buy\")}>Buy  &#8377;{props.movie.BuyAmt}</button></span></>)}\n            {\n              (payment \n                || props.userm)\n                &&( <h1><i className=\"fas fa-play\"/> Play</h1>)\n            }\n          </div>\n        </div> \n      </div>\n      </div>\n      </>)\n}"]},"metadata":{},"sourceType":"module"}